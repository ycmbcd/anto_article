<style>
		/*隐藏id*/
.hidden_id{
	display: none;
}
</style>
<div class="row" style="margin:0" ng-controller="commonfieldCtrl">
	<div class="col-lg-12 mt20">
		<div class="panel panel-show">
			<div class="panel-heading">通用字段</div>
			<div class="panel-body">
				<div class="container-fluid mt20">
					<div class="row">
						<div class="col-lg-10">
							<div class="panel panel-info">
								<div class="panel-heading">
									<div class="col-lg-3 col-md-4 col-sm-4 col-xs-6 p_title">通用字段列表</div>
									<div class="col-lg-3 col-md-4 col-sm-6 col-xs-5 pull-right">
										<input  type="text" 
											class="form-control input-sm" 
											placeholder="筛选"
											ng-model="key_words"
											></div>
				                    <div class="clearfix"></div>
				                </div>
								<div class="panel-footer">
									<form name="newcomfieldForm">
										<table class="table">
											<thead>
												<tr>
													<td width="15%"><input  type="text" 
														class="form-control input-sm" 
														placeholder="新的字段名" 
														ng-model="new_field"
														required   
					                      				maxlength="10" 
					                      				ng-maxlength="10"
					                      				uib-popover="非空、长度小于10个字符"
					                      				popover-trigger="'mouseenter'"
					                      				popover-placement="top-left">
					                      			</td>
					                      			<td width="15%">
					                      				<select ng-model="new_field_type" class="form-control input-sm">
															<option value="" selected="selected">字段类型...</option>
															<option value="field_txt">文本（少于255字符）</option>
															<option value="field_big_txt">大文本（大于255字符）</option>
															<option value="field_int">整数</option>
															<option value="field_decimal">小数（小数点后默认2位）</option>
															<option value="field_date">日期（例如：2016-08-18）</option>
														</select>
					                      			</td>
					                      			<td width="20%">
					                      				<input  type="number" 
														min="1"
														max="9999"
														class="form-control input-sm" 
														placeholder="字段长度，最多9999"
														ng-model="new_field_length"
														required
					                      				uib-popover="这里填正整数"
					                      				popover-trigger="'mouseenter'"
					                      				popover-placement="top-left">
					                      			</td>
					                      			<td width="40%">
					                      				<input 	rows="3"
					                      						ng-model="new_field_info"
					                      						class="form-control input-sm" 
					                      						required
					                      						maxlength="50"
					                      						ng-maxlength="50"
					                      						placeholder="字段说明，最多50个字符" />
					                      			</td>
					                      			<td width="10%">
					                      				<button ng-disabled="newcomfieldForm.$invalid || !new_field_type" class="btn btn-success pull-right btn-sm" type="button" ng-click="add_comfield()">&nbsp;&nbsp;新&nbsp;&nbsp;建&nbsp;&nbsp;</button>
					                      			</td>
												</tr>
											</thead>
										</table>
									</form>
									<table class="table table-condensed">
										<thead>
											<tr class="blue">
												<td>序号</td>
												<td>字段名</td>
												<td>字段类型 •</td>
												<td>字段长度</td>
												<td>字段说明</td>
												<td>操 作</td>
											</tr>
										</thead>
										<tr ng-repeat="item in all_commonfield | filter:key_words track by $index" id="line_{{item.id}}">
											<td>{{$index+1}}</td>
											<td ng-repeat="(key, value) in item track by $index" class="hidden_{{key}}">
												<input 	ng-dblclick="change_comfield(item.id,key,value)" 
														readonly
														class="form-control input-sm" 
														id="{{key}}_{{item.id}}" 
														value="{{value | field_filter}}"
														>
											</td>
											<td>
												<button uib-popover-template="del_popover.templateUrl"
														popover-title="{{del_popover.title}}" 
														popover-trigger="'outsideClick'" 
														popover-placement="right"
														type="button"
														class="btn btn-danger btn-xs"
														ng-click="field_key(item.id)">删 除</button>
											</td>
										</tr>
									</table>
								</div>
							</div>	
						</div>		
					</div>
				</div>
				<div class=" mt20">
				</div>
			</div>
			<div class="panel-footer">对通用字段进行：新建、修改、删除操作，• 表示不能修改项。<div class="ycmbcd"></div></div>
		</div><!-- /pannel -->
	</div><!-- /col -->
</div>

<!--删除弹框-->
<script type="text/ng-template" id="del_popover.html">
	<button class="btn btn-danger btn-xs" type="button" ng-click="del_field()">确 定</button>
</script>
<!--/删除弹框-->
